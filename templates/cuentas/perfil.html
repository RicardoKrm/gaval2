{% extends 'flota/base.html' %}
{% load static %}

{% block title %}Mi Perfil - {{ user.username }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="card-style">
        <div class="flex flex-col md:flex-row items-center md:items-start gap-8">
            <!-- Columna del Avatar -->
            <div class="flex-shrink-0 w-40 text-center">
                <div class="h-40 w-40 rounded-full bg-accent flex items-center justify-center text-white text-6xl font-bold mx-auto">
                    {{ user.username|first|upper }}
                </div>
                <h2 class="text-2xl font-bold text-text-primary mt-4">{{ user.get_full_name|default:user.username }}</h2>
                <p class="text-text-secondary">
                    {% with grupo=user.groups.first %}
                        {{ grupo.name|default:"Rol no asignado" }}
                    {% endwith %}
                </p>
            </div>

            <!-- Columna de Informaci贸n -->
            <div class="flex-grow w-full">
                <h3 class="text-xl font-semibold text-text-primary border-b border-input-border pb-2 mb-4">
                    <i class="fas fa-info-circle mr-2 text-accent"></i>Informaci贸n de la Cuenta
                </h3>
                <dl class="grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-6">
                    <div class="sm:col-span-1">
                        <dt class="text-sm font-medium text-text-secondary">Nombre de Usuario</dt>
                        <dd class="mt-1 text-sm text-text-primary">{{ user.username }}</dd>
                    </div>
                    <div class="sm:col-span-2">
                        <dt class="text-sm font-medium text-text-secondary">Correo Electr贸nico</dt>
                        <dd class="mt-1 text-sm text-text-primary">{{ user.email|default:"No especificado" }}</dd>
                    </div>
                    <div class="sm:col-span-1">
                        <dt class="text-sm font-medium text-text-secondary">Nombre</dt>
                        <dd class="mt-1 text-sm text-text-primary">{{ user.first_name|default:"No especificado" }}</dd>
                    </div>
                    <div class="sm:col-span-1">
                        <dt class="text-sm font-medium text-text-secondary">Apellido</dt>
                        <dd class="mt-1 text-sm text-text-primary">{{ user.last_name|default:"No especificado" }}</dd>
                    </div>
                    <div class="sm:col-span-1">
                        <dt class="text-sm font-medium text-text-secondary">Miembro desde</dt>
                        <dd class="mt-1 text-sm text-text-primary">{{ user.date_joined|date:"d M, Y" }}</dd>
                    </div>
                </dl>

                <div class="mt-6 text-right">
                    <a href="#" class="btn-primary !bg-gray-500 hover:!bg-gray-600 text-text-primary text-sm">
                        <i class="fas fa-edit mr-2"></i>Editar Perfil (Pr贸ximamente)
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}